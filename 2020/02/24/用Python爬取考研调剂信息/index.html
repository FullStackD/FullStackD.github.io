<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 3.9.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico"><link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"yoursite.com",root:"/",scheme:"Pisces",version:"8.0.0-rc.3",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12},copycode:!1,bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!0,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!1,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}}}</script><meta name="description" content="未加请求头时，会返回404，故添加header。 分析网页http://muchong.com/f-430-1为第一页，http://muchong.com/f-430-2为第二页 使用utf-8对网页内容解码时，会出现乱码。查看网页源代码， charset=&amp;quot;gbk&amp;quot; ，故改为gbk编码。 通过查看元素得到标题，时间的标签和class。 写入markdown文件，方便打开查"><meta name="keywords" content="Python,爬虫"><meta property="og:type" content="article"><meta property="og:title" content="用Python爬取考研调剂信息"><meta property="og:url" content="http://yoursite.com/2020/02/24/用Python爬取考研调剂信息/index.html"><meta property="og:site_name" content="不忘初心"><meta property="og:description" content="未加请求头时，会返回404，故添加header。 分析网页http://muchong.com/f-430-1为第一页，http://muchong.com/f-430-2为第二页 使用utf-8对网页内容解码时，会出现乱码。查看网页源代码， charset=&amp;quot;gbk&amp;quot; ，故改为gbk编码。 通过查看元素得到标题，时间的标签和class。 写入markdown文件，方便打开查"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2020-03-04T10:23:22.790Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="用Python爬取考研调剂信息"><meta name="twitter:description" content="未加请求头时，会返回404，故添加header。 分析网页http://muchong.com/f-430-1为第一页，http://muchong.com/f-430-2为第二页 使用utf-8对网页内容解码时，会出现乱码。查看网页源代码， charset=&amp;quot;gbk&amp;quot; ，故改为gbk编码。 通过查看元素得到标题，时间的标签和class。 写入markdown文件，方便打开查"><link rel="canonical" href="http://yoursite.com/2020/02/24/用Python爬取考研调剂信息/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>用Python爬取考研调剂信息 | 不忘初心</title><noscript><style>body{margin-top:2rem}.sidebar-inner,.use-motion .collection-header,.use-motion .comments,.use-motion .header-inner,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header,.use-motion .site-brand-container .toggle{opacity:initial}.use-motion .custom-logo-image,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line{transform:scaleX(1)}.search-pop-overlay,.sidebar-nav{display:none}.sidebar-panel{display:block}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><h1 class="site-title">不忘初心</h1><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">少年,专心练剑吧</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i> 首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i> 归档</a></li><li class="menu-item menu-item-books"><a href="/books/" rel="section"><i class="fa fa-book fa-fw"></i> 书单</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i> 关于</a></li></ul></nav></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-overview-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><section class="post-toc-wrap sidebar-panel"></section><section class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Monster" src="/images/avatar.png"><p class="site-author-name" itemprop="name">Monster</p><div class="site-description" itemprop="description">Stay young, Stay hungry, Stay foolish.</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">34</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">13</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">44</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/yourname" title="GitHub → https://github.com/yourname" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:yourname@gmail.com" title="E-Mail → mailto:yourname@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://plus.google.com/yourname" title="Google → https://plus.google.com/yourname" rel="noopener" target="_blank"><i class="fab fa-google fa-fw"></i> Google</a></span></div></section><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></header> <a href="https://github.com/fullstackd" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><noscript><div id="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/24/用Python爬取考研调剂信息/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.png"><meta itemprop="name" content="Monster"><meta itemprop="description" content="Stay young, Stay hungry, Stay foolish."></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="不忘初心"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> 用Python爬取考研调剂信息</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-02-24 15:38:21" itemprop="dateCreated datePublished" datetime="2020-02-24T15:38:21+08:00">2020-02-24</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2020-03-04 18:23:22" itemprop="dateModified" datetime="2020-03-04T18:23:22+08:00">2020-03-04</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/爬虫/" itemprop="url" rel="index"><span itemprop="name">爬虫</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><ol><li>未加请求头时，会返回404，故添加header。</li><li>分析网页<code>http://muchong.com/f-430-1</code>为第一页，<code>http://muchong.com/f-430-2</code>为第二页</li><li>使用utf-8对网页内容解码时，会出现乱码。查看网页源代码， <code>charset=&quot;gbk&quot;</code> ，故改为gbk编码。</li><li>通过查看元素得到标题，时间的标签和class。</li><li>写入markdown文件，方便打开查看。</li></ol><a id="more"></a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">baseUrl = <span class="string">'http://muchong.com/f-430-%d'</span></span><br><span class="line">keywords = [<span class="string">"计算机"</span>, <span class="string">"软件工程"</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getWebPageMessage</span><span class="params">(url, f)</span>:</span></span><br><span class="line">    url = url</span><br><span class="line">    header = &#123;</span><br><span class="line">        <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36'</span></span><br><span class="line">    &#125;</span><br><span class="line">    req = requests.get(url, headers=header)</span><br><span class="line">    bsObj = BeautifulSoup(req.content.decode(<span class="string">'gbk'</span>, <span class="string">'ignore'</span>), <span class="string">"html.parser"</span>)</span><br><span class="line">    forumList = bsObj.findAll(<span class="string">"tr"</span>, &#123;<span class="string">"class"</span>: <span class="string">"forum_list"</span>&#125;)</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> forumList:</span><br><span class="line">        title = item.find(<span class="string">"a"</span>, &#123;<span class="string">"class"</span>: <span class="string">"a_subject"</span>&#125;).get_text()</span><br><span class="line">        <span class="keyword">for</span> keyword <span class="keyword">in</span> keywords:</span><br><span class="line">            <span class="keyword">if</span> title.find(keyword) <span class="keyword">is</span> <span class="keyword">not</span> <span class="number">-1</span>:</span><br><span class="line">                date = item.findAll(<span class="string">"cite"</span>)[<span class="number">1</span>].get_text()</span><br><span class="line">                url = <span class="string">"http://muchong.com"</span> + item.find(<span class="string">"a"</span>, &#123;<span class="string">"class"</span>: <span class="string">"a_subject"</span>&#125;)[<span class="string">'href'</span>]</span><br><span class="line">                f.write(<span class="string">"|"</span> + title + <span class="string">"|"</span> + url + <span class="string">"|"</span> + date + <span class="string">"|\n"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    f = open(<span class="string">'调剂信息.md'</span>, <span class="string">'w'</span>)</span><br><span class="line">    f.write(<span class="string">"| 标题  | 链接 | 日期  |\n"</span>)</span><br><span class="line">    f.write(<span class="string">"| ---- | ---- | ---- |\n"</span>)</span><br><span class="line">    page = <span class="number">1</span>  <span class="comment"># 初始页码</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">        getWebPageMessage(baseUrl % page, f)</span><br><span class="line">        page = page + <span class="number">1</span></span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>结果展示：</p><p>打开markdown文件后，结果如下：</p><div class="table-container"><table><thead><tr><th>标题</th><th>链接</th><th>日期</th></tr></thead><tbody><tr><td>东北石油大学软件工程专业接收校内外调剂考生。</td><td><a href="http://muchong.com/t-14087831-1" target="_blank" rel="noopener">http://muchong.com/t-14087831-1</a></td><td>2020-02-24 14:35:59</td></tr><tr><td>广西师范大学计算机与信息工程学院 陈明教授课题组招收计算机与自动化方向调剂生3名</td><td><a href="http://muchong.com/t-14091609-1" target="_blank" rel="noopener">http://muchong.com/t-14091609-1</a></td><td>2020-02-24 14:35:01</td></tr><tr><td>【学硕】福建农林大学计算机科学与技术专业杨长才课题组招收调剂生4名</td><td><a href="http://muchong.com/t-14091329-1" target="_blank" rel="noopener">http://muchong.com/t-14091329-1</a></td><td>2020-02-24 14:34:21</td></tr><tr><td>题目：计算机好的安全、数学、计算机等相关专业工科男(学硕)调剂信息</td><td><a href="http://muchong.com/t-14091711-1" target="_blank" rel="noopener">http://muchong.com/t-14091711-1</a></td><td>2020-02-24 14:33:37</td></tr><tr><td>接受计算机相关专业调剂！</td><td><a href="http://muchong.com/t-12213688-1" target="_blank" rel="noopener">http://muchong.com/t-12213688-1</a></td><td>2020-02-24 13:50:25</td></tr><tr><td>2020接受考研调剂，计算机</td><td><a href="http://muchong.com/t-14085143-1" target="_blank" rel="noopener">http://muchong.com/t-14085143-1</a></td><td>2020-02-24 13:39:40</td></tr><tr><td>济南大学智能计算与科学计算课题组拟接收计算机专业 (学术型) 硕士生调剂-预宣传</td><td><a href="http://muchong.com/t-14077175-1" target="_blank" rel="noopener">http://muchong.com/t-14077175-1</a></td><td>2020-02-24 13:35:59</td></tr></tbody></table></div></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/Python/" rel="tag"># Python</a> <a href="/tags/爬虫/" rel="tag"># 爬虫</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2019/01/29/Markdown中使用MathJax/" rel="prev" title="Markdown中使用MathJax"><i class="fa fa-chevron-left"></i> Markdown中使用MathJax</a></div><div class="post-nav-item"> <a href="/2020/03/03/使用覆盖索引优化SQL语句/" rel="next" title="使用覆盖索引优化SQL语句">使用覆盖索引优化SQL语句<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2020</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Monster</span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script></body></html>